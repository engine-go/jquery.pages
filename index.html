<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Pages plugin local test</title>
	<link href="./css/jquery.pages.css" rel="stylesheet">
	<link href="http://cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
	<style>
	div.center-container{
		margin: 0 auto;
		max-width: 800px;
	}
	#data-table{
		min-height: 300px;
	}
	</style>
</head>
<body>
<div class="center-container">
	<h3>本地分页测试</h3>
	<table id="data-table" class="table table-striped table-bordered">
		<tr><th width="50%">Name</th><th width="50%">Age</th></tr>
		<tr class="data-tr"><td>NealLi</td><td>24</td></tr>
	</table>
	<div class="page"></div>
</div>
<script src="http://cdn.bootcss.com/jquery/2.1.4/jquery.min.js"></script>
<script src="http://cdn.bootcss.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script src="./js/jquery.pages.js"></script>
<script>

var list = [
	{name: 'nealli1', age: '24'},
	{name: 'nealli2', age: '24'},
	{name: 'nealli3', age: '24'},
	{name: 'nealli4', age: '24'},
	{name: 'nealli5', age: '24'},
	{name: 'nealli6', age: '24'},
	{name: 'nealli7', age: '24'},
	{name: 'nealli8', age: '24'},
	{name: 'nealli9', age: '24'},
	{name: 'nealli10', age: '24'},
	{name: 'nealli11', age: '24'},
	{name: 'nealli12', age: '24'},
	{name: 'nealli13', age: '24'},
	{name: 'nealli14', age: '24'},
	{name: 'nealli15', age: '24'},
	{name: 'nealli16', age: '24'},
	{name: 'nealli17', age: '24'},
	{name: 'nealli18', age: '24'},
	{name: 'nealli19', age: '24'},
	{name: 'nealli20', age: '24'},
	{name: 'nealli21', age: '24'},
	{name: 'nealli22', age: '24'},
	{name: 'nealli23', age: '24'},
	{name: 'nealli24', age: '24'},
	{name: 'nealli25', age: '24'},
	{name: 'nealli26', age: '24'},
	{name: 'nealli27', age: '24'}
],
page = 1,
pageLimit = 5,
dataCount = 0;

dataCount = list.length;

$(function(){

	init();

});

//init
function init(){
	//init page plugin
	$("div.page").pages({
		type: 'static',
		dataCount: dataCount,
		pageLimit: pageLimit,
		callBack: function(pageno, page){
			showdata(pageno)
		}
	});

	//showdata
	showdata(page)

}

//showdata
function showdata(page){
	var data = list.slice((page-1)*pageLimit, page*pageLimit),
		table = $("#data-table"),
		tpl = '',
		i;

	for(i=0; i<data.length; i++){
		tpl += '<tr class="data-tr"><td>'+ data[i].name +'</td><td>'+ data[i].age +'</td></tr>';
	}

	table.find('tr.data-tr')
			.remove()
			.end()
			.append(tpl);

}

</script>
</body>
</html>